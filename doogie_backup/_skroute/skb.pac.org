function FindProxyForURL(url,host)
{
   var dip= dnsResolve(host);
   var u = host.toLowerCase();
   var cip = myIpAddress();

// URL Miss //
if (!isResolvable(host)) return "DIRECT";
if (shExpMatch(dip,"10.*.*.*")) return "DIRECT";
if (shExpMatch(dip,"12.*.*.*")) return "DIRECT";
if (shExpMatch(dip,"14.*.*.*")) return "DIRECT";
if (shExpMatch(dip,"58.123.195.*")) return "DIRECT";
if (shExpMatch(dip,"58.123.205.*")) return "DIRECT";
if (shExpMatch(dip,"58.124.231.*")) return "DIRECT";
if (shExpMatch(dip,"58.235.143.*")) return "DIRECT";
if (shExpMatch(dip,"60.*.*.*")) return "DIRECT";
if (shExpMatch(dip,"61.250.19.*")) return "DIRECT";
if (shExpMatch(dip,"90.*.*.*")) return "DIRECT";
if (shExpMatch(dip,"100.1.*.*")) return "DIRECT";
if (shExpMatch(dip,"114.204.245.*")) return "DIRECT";
if (shExpMatch(dip,"114.204.246.*")) return "DIRECT";
if (shExpMatch(dip,"120.1.1.*")) return "DIRECT";
if (shExpMatch(dip,"123.213.119.*")) return "DIRECT";
if (shExpMatch(dip,"150.*.*.*")) return "DIRECT";
if (shExpMatch(dip,"192.*.*.*")) return "DIRECT";
if (shExpMatch(dip,"200.1.17.*")) return "DIRECT";
if (shExpMatch(dip,"203.236.19.*")) return "DIRECT";
if (shExpMatch(dip,"210.211.64.*")) return "DIRECT";
if (shExpMatch(dip,"211.58.57.*")) return "DIRECT";
if (shExpMatch(dip,"211.108.221.*")) return "DIRECT";
if (shExpMatch(dip,"218.39.31.*")) return "DIRECT";
if (shExpMatch(dip,"218.232.107.*")) return "DIRECT";
if (shExpMatch(dip,"218.234.31.*")) return "DIRECT";
if (shExpMatch(dip,"220.103.244.*")) return "DIRECT";
if (shExpMatch(dip,"220.103.245.*")) return "DIRECT";
if (shExpMatch(dip,"220.103.248.*")) return "DIRECT";
if (shExpMatch(dip,"223.39.7*")) return "DIRECT";
if (shExpMatch(dip,"210.211.65.*")) return "DIRECT";
if (shExpMatch(dip,"210.211.66.*")) return "DIRECT";
if (shExpMatch(dip,"210.211.67.*")) return "DIRECT";
if (shExpMatch(dip,"210.211.68.*")) return "DIRECT";
if (shExpMatch(dip,"210.211.69.*")) return "DIRECT";
if (shExpMatch(dip,"210.211.70.*")) return "DIRECT";
if (shExpMatch(dip,"210.211.71.*")) return "DIRECT";
if (shExpMatch(dip,"220.103.249.*")) return "DIRECT";
if (shExpMatch(dip,"220.103.250.*")) return "DIRECT";
if (shExpMatch(dip,"220.103.251.*")) return "DIRECT";
if (shExpMatch(dip,"127.0.0.1")) return "DIRECT";
if (shExpMatch(dip,"211.186.175.*")) return "DIRECT";
if (shExpMatch(dip,"172.22.*.*")) return "DIRECT";
if (shExpMatch(dip,"172.23.*.*")) return "DIRECT";
if (shExpMatch(dip,"172.26.*.*")) return "DIRECT";
if (shExpMatch(dip,"172.29.*.*")) return "DIRECT";
if (shExpMatch(dip,"172.30.*.*")) return "DIRECT";
if (shExpMatch(dip,"172.31.*.*")) return "DIRECT";
if (shExpMatch(dip,"211.215.17.49")) return "DIRECT";
if (shExpMatch(dip,"211.44.250.106")) return "DIRECT";
if (shExpMatch(dip,"114.202.130.191")) return "DIRECT";
if (shExpMatch(dip,"1.255.151.*")) return "DIRECT";
if (shExpMatch(dip,"1.255.80.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.10.10")) return "DIRECT";
if (shExpMatch(dip,"172.16.40.60")) return "DIRECT";
if (shExpMatch(dip,"35.201.97.85")) return "DIRECT";
if (shExpMatch(dip,"108.177.125.106")) return "DIRECT";
if (shExpMatch(dip,"108.177.125.103")) return "DIRECT";
if (shExpMatch(dip,"108.177.125.99")) return "DIRECT";
if (shExpMatch(dip,"108.177.125.147")) return "DIRECT";
if (shExpMatch(dip,"108.177.125.104")) return "DIRECT";
if (shExpMatch(dip,"108.177.125.105")) return "DIRECT";
if (shExpMatch(dip,"118.217.79.211")) return "DIRECT";
if (shExpMatch(dip,"1.255.34.*")) return "DIRECT";
if (shExpMatch(dip,"1.225.34.*")) return "DIRECT";
if (shExpMatch(dip,"1.226.199.*")) return "DIRECT";
if (shExpMatch(dip,"1.255.152.19")) return "DIRECT";
if (shExpMatch(dip,"1.255.133.31")) return "DIRECT";
if (shExpMatch(dip,"123.215.199.92")) return "DIRECT";
if (shExpMatch(dip,"1.227.83.51")) return "DIRECT";
if (shExpMatch(dip,"1.255.113.30")) return "DIRECT";
if (shExpMatch(dip,"1.255.98.16")) return "DIRECT";
if (shExpMatch(dip,"175.113.150.43")) return "DIRECT";
if (shExpMatch(dip,"175.113.150.39")) return "DIRECT";
if (shExpMatch(dip,"1.255.144.118")) return "DIRECT";
if (shExpMatch(dip,"1.255.86.109")) return "DIRECT";
if (shExpMatch(dip,"1.255.112.155")) return "DIRECT";
if (shExpMatch(dip,"1.255.231.58")) return "DIRECT";
if (shExpMatch(dip,"1.255.112.64")) return "DIRECT";
if (shExpMatch(dip,"1.255.141.122")) return "DIRECT";
if (shExpMatch(dip,"221.140.123.53")) return "DIRECT";
if (shExpMatch(dip,"172.16.40.52")) return "DIRECT";
if (shExpMatch(dip,"1.255.98.145")) return "DIRECT";
if (shExpMatch(dip,"1.255.46.111")) return "DIRECT";
if (shExpMatch(dip,"1.225.46.111")) return "DIRECT";
if (shExpMatch(dip,"123.213.185.119")) return "DIRECT";
if (shExpMatch(dip,"121.162.155.183")) return "DIRECT";
if (shExpMatch(dip,"203.234.219.124")) return "DIRECT";
if (shExpMatch(dip,"61.250.23.198")) return "DIRECT";
if (shExpMatch(dip,"113.217.246.247")) return "DIRECT";
if (shExpMatch(dip,"113.217.247.172")) return "DIRECT";
if (shExpMatch(dip,"113.217.248.236")) return "DIRECT";
if (shExpMatch(dip,"172.18.173.185")) return "DIRECT";
if (shExpMatch(dip,"172.18.174.236")) return "DIRECT";
if (shExpMatch(dip,"211.188.221.72")) return "DIRECT";
if (shExpMatch(dip,"211.188.221.124")) return "DIRECT";
if (shExpMatch(dip,"124.243.74.18")) return "DIRECT";
if (shExpMatch(dip,"169.56.108.102")) return "DIRECT";
if (shExpMatch(dip,"117.52.128.246")) return "DIRECT";
if (shExpMatch(dip,"175.124.226.181")) return "DIRECT";
if (shExpMatch(dip,"210.117.65.11")) return "DIRECT";
if (shExpMatch(dip,"210.117.65.13")) return "DIRECT";
if (shExpMatch(dip,"210.117.65.14")) return "DIRECT";
if (shExpMatch(dip,"210.117.65.19")) return "DIRECT";
if (shExpMatch(dip,"1.225.11.*")) return "DIRECT";
if (shExpMatch(dip,"1.225.22.*")) return "DIRECT";
if (shExpMatch(dip,"218.237.192.*")) return "DIRECT";
if (shExpMatch(dip,"218.237.193.*")) return "DIRECT";
if (shExpMatch(dip,"1.225.238.*")) return "DIRECT";
if (shExpMatch(dip,"1.255.80.25")) return "DIRECT";
if (shExpMatch(dip,"203.235.208.156")) return "DIRECT";
if (shExpMatch(dip,"50.50.50.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.10.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.11.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.28.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.41.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.180.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.21.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.13.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.14.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.51.*")) return "DIRECT";
if (shExpMatch(dip,"172.16.55.*")) return "DIRECT";
if (shExpMatch(dip,"125.132.2.*")) return "DIRECT";
if (shExpMatch(dip,"61.97.15.68")) return "DIRECT";
if (shExpMatch(dip,"121.254.60.147")) return "DIRECT";
if (shExpMatch(dip,"125.132.2.*")) return "DIRECT";
if (shExpMatch(dip,"27.101.117.47")) return "DIRECT";
if (shExpMatch(dip,"61.250.23.250")) return "DIRECT";

//Only HTTPS//
if (url.substring(0, 6) == "https:") return "PROXY 12.4.16.102:8080";

//Only HTTP//
if (url.substring(0, 5) == "http:") return "PROXY 12.4.16.102:8080";

if (shExpMatch(host, "wss-primary.slack.com")) return "PROXY 12.4.16.102:8080";
if (dnsDomainIs(host, "wss-primary.slack.com")) return "PROXY 12.4.16.102:8080";
if (shExpMatch(host, "wss-backup.slack.com")) return "PROXY 12.4.16.102:8080";
if (dnsDomainIs(host, "wss-backup.slack.com")) return "PROXY 12.4.16.102:8080";

// Default //
    return "DIRECT";
}
